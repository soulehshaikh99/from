!function(){"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=$.qs("#tn"),t=$.qs("#ip"),o=$.qs("#sc"),r=$.qs("#sl"),c=$.qs("#tu"),n=$.qs("#sh"),l=$.qs("#k"),u=$.qs("#tv"),s=$.qs("#nv"),i=$.qs("#it"),a=$.qs("#t"),d=$.qs("#to"),y=$.qs("#_"),S=$.qs("#ib"),m=$.qs("#td"),q=$.qs(".dg"),v=$.qs(".vc"),g=$.qs(".vz"),h=$.qs(".ml"),p=$.qs("#rx"),f=$.qs("#q"),x=$.qsa(".hh"),L=$.qs(".pd");$.qs(".dh");const C={USD:{currency:"$",country:"United States"},CNY:{currency:"¥",country:"China"},JPY:{currency:"¥",country:"Japan"},INR:{currency:"₹",country:"India"},HKD:{currency:"HK$",country:"Hong Kong"},EUR:{currency:"€",country:"European Union"},CAD:{currency:"$",country:"Canada"},GBP:{currency:"£",country:"United Kingdom"},SAR:{currency:"﷼",country:"Saudi Arabia"},TWD:{currency:"NT$",country:"Taiwan"},CHF:{currency:"CHF",country:"Switzerland"},KRW:{currency:"₩",country:"South Korea"},AUD:{currency:"$",country:"Australia"},ZAR:{currency:"R",country:"South Africa"},BRL:{currency:"R$",country:"Brazil"},SGD:{currency:"$",country:"Singapore"},MXN:{currency:"$",country:"Mexico"}};function b(){const e=$.qs("#tn"),t=window.innerWidth<=1200;e.innerHTML='<option value="" selected>Currency</option>',Object.entries(C).forEach((([o,r])=>{const c=document.createElement("option");c.value=r.currency,c.textContent=t?`${r.currency} ${o}`:`${r.currency} ${o} - ${r.country}`,e.appendChild(c)}))}function N(){for(const e of x)if(e.checked)return e.value;return null}function A(){[m,q,v,g,h,i,$.qs(".dp")].forEach((e=>{e&&$.conceal(e)}))}function F(e){"basic"===(e=e||N())?$.conceal(c.closest(".pj"),n.closest(".pj"),L):$.reveal(L),A()}function w(e=1){if(e>=1&&e<=10)return["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth","Tenth"][e-1];const t=(()=>{const t=e%10,o=e%100;return 1===t&&11!==o?"st_conflict":2===t&&12!==o?"nd_conflict":3===t&&13!==o?"rd_conflict":"th"})();return`${e}${t}`}function j(e,t){let o=e.querySelector(".wt");function r(){t.removeChild(e),function(){const e=$.qs(".hk");for(let t=0;t<e.children.length;t++){const o=e.children[t],r=o.querySelector(".hq");let c=w(t+1);r.textContent=`${c} Purchase`,c=c.toLowerCase(),o.querySelector(".pn").setAttribute("for",`${c}-purchase`),o.querySelector(".pa").id=`${c}-purchase`,o.querySelector(".pf").setAttribute("for",`${c}-quantity`),o.querySelector(".pl").id=`${c}-quantity`}k()}(),P()}if(o)return o.removeEventListener("click",r),void o.addEventListener("click",r);o=document.createElement("button"),o.classList.add("wt"),o.type="button";const c=document.createElement("img");c.classList.add("wn"),c.setAttribute("src","/assets/images/ce3b389d.svg"),c.setAttribute("alt","Remove purchase entry"),o.appendChild(c),e.querySelector(".hq").after(o),o.addEventListener("click",r)}function E(e){const t=e.querySelector(".wt");t&&t.remove()}function k(){const e=$.qs(".hk"),t=$.qsa(".h_");if(t.length>=3)for(let o=0;o<2;o++)j(t[o],e);else for(let e=0;e<t.length;e++)E(t[e])}function P(){const e=N(),a=$.qsa(".h_");let p=0,f=0,x=1/0,L=-1/0;const C=[];for(const e of a){const t=e.querySelector(".pa"),o=e.querySelector(".pl"),r=parseFloat(t.value||0),c=parseFloat(o.value||0);p+=c,f+=r*c,x>r&&(x=r),L<r&&(L=r),C.push({buyPrice:r,quantity:c,invested:(r*c).toFixed(2)})}if(!f||!p)return;const b=p>0?f/p:0,A=Number(b.toFixed(2)).toLocaleString(),F=Number(p.toFixed(2)).toLocaleString(),j=Number(f.toFixed(2)).toLocaleString();t.textContent=A,o.textContent=F,r.textContent=j;const E=parseFloat(d.value||0),k=parseFloat(y.value||0),P=parseFloat(S.value||0);if(E>0&&p>0){const e=E*p-f,t=e/f*100;c.textContent=`${e>=0?"+":""}${Number(e.toFixed(2)).toLocaleString()}`,n.textContent=`${t>=0?"+":""}${Number(t.toFixed(2)).toLocaleString()}%`,c.classList.toggle("dn",e>=0),c.classList.toggle("dr",e<0),n.classList.toggle("dn",t>=0),n.classList.toggle("dr",t<0),$.reveal(c.closest(".pj"),n.closest(".pj"))}else $.conceal(c.closest(".pj"),n.closest(".pj"));if(k>0||P>0){const e=k+P,t=(f+e)/p;if(l.textContent=Number(t.toFixed(2)).toLocaleString(),$.reveal(l.closest(".pj")),E>0){const t=E*p-f-e,o=t/f*100;u.textContent=`${t>=0?"+":""}${Number(t.toFixed(2)).toLocaleString()}`,s.textContent=`${o>=0?"+":""}${Number(o.toFixed(2)).toLocaleString()}%`,u.classList.toggle("dn",t>=0),u.classList.toggle("dr",t<0),s.classList.toggle("dn",o>=0),s.classList.toggle("dr",o<0),$.reveal(u.closest(".pj"),s.closest(".pj"))}else $.conceal(u.closest(".pj"),s.closest(".pj"))}else $.conceal(l.closest(".pj"),u.closest(".pj"),s.closest(".pj"));$.reveal(i);const _=q.querySelectorAll(".db");for(let e=1;e<_.length;e++)_[e].remove();let R=0,T=1/0,z=-1/0,D=0,U=0;const H=_[0];for(let t=0;t<C.length;t++){const o=C[t],r=H.cloneNode(!0);let c=0;t===C.length-1?c=Number((100-R).toFixed(2)):f>0&&(c=(o.invested/f*100).toFixed(2),R+=Number(c)),T>c&&(T=c,D=o.buyPrice),z<c&&(z=c,U=o.buyPrice);const n=r.querySelector(".vr"),l=r.querySelector(".vs"),u=r.querySelector(".vu"),s=r.querySelector(".vf");if(r.querySelector(".dw").textContent=`${w(t+1)} Purchase`,r.querySelector(".d_").textContent=o.buyPrice.toLocaleString(),r.querySelector(".ve").textContent=o.quantity.toLocaleString(),r.querySelector(".vn").textContent=Number(o.invested).toLocaleString(),r.querySelector(".vl").textContent=`${Number(c)}%`,"basic"===e?$.conceal(n,l,u,s):$.reveal(n,l,u,s),"advanced"===e&&E>0){const e=r.querySelector(".vo"),t=r.querySelector(".va"),c=(E*o.quantity).toFixed(2),n=(c-o.invested).toFixed(2),l=(n/o.invested*100).toFixed(2);r.querySelector(".vi").textContent=Number(c).toLocaleString(),e.textContent=`${n>=0?"+":""}${Number(n).toLocaleString()}`,t.textContent=`${l>=0?"+":""}${Number(l).toLocaleString()}%`,e.classList.toggle("dn",n>0),e.classList.toggle("dr",n<0),t.classList.toggle("dn",n>0),t.classList.toggle("dr",n<0)}else $.conceal(n,l,u);q.querySelector(".dy").appendChild(r)}H.remove();const K=v.querySelector(".vh"),B=v.querySelector(".vw"),I=v.querySelector(".vk"),M=v.querySelector(".vj");if("basic"===e?$.conceal(K,B,I,M):$.reveal(K,B,I,M),v.querySelector(".vv").textContent=A,v.querySelector(".vg").textContent=F,v.querySelector(".vb").textContent=j,"advanced"===e&&E>0){const e=E*p,t=e-f,o=t/f*100,r=v.querySelector(".v_"),c=v.querySelector(".vq");v.querySelector(".vp").textContent=E.toLocaleString(),v.querySelector(".vx").textContent=Number(e).toLocaleString(),r.textContent=`${t>=0?"+":""}${Number(t.toFixed(2)).toLocaleString()}`,c.textContent=`${o>=0?"+":""}${Number(o.toFixed(2)).toLocaleString()}%`,r.classList.toggle("dn",t>0),r.classList.toggle("dr",t<0),c.classList.toggle("dn",t>0),c.classList.toggle("dr",t<0)}else $.conceal(K,B,I,M);if(U===D?$.conceal(h.querySelector(".mc"),h.querySelector(".mp")):($.reveal(h.querySelector(".mc"),h.querySelector(".mp")),h.querySelector(".mh").textContent=Number(U).toLocaleString(),h.querySelector(".md").textContent=Number(D).toLocaleString()),x===L?$.conceal(h.querySelector(".mv"),h.querySelector(".mg")):($.reveal(h.querySelector(".mv"),h.querySelector(".mg")),h.querySelector(".mm").textContent=Number(x).toLocaleString(),h.querySelector(".my").textContent=Number(L).toLocaleString()),"advanced"===e&&(k>0||P>0)){const e=k+P,t=(f+e)/p,o=t-b;if(g.querySelector(".mt").textContent=e.toLocaleString(),g.querySelector(".ms").textContent=Number(t.toFixed(2)).toLocaleString(),g.querySelector(".mr").textContent=Number(o.toFixed(2)).toLocaleString(),E>0){const t=E*p-f-e,o=t/f*100;g.querySelector(".mu").textContent=`${t>=0?"+":""}${Number(t.toFixed(2)).toLocaleString()}`,g.querySelector(".mf").textContent=`${o>=0?"+":""}${Number(o.toFixed(2)).toLocaleString()}%`,$.reveal(g.querySelector(".mo"),g.querySelector(".ma"))}else $.conceal(g.querySelector(".mo"),g.querySelector(".ma"));$.reveal(g)}else $.conceal(g);$.reveal(m,q,v,$.qs(".dp")),U!==D||x!==L?$.reveal(h):$.conceal(h)}$.qs("#te").addEventListener("submit",(function(e){e.preventDefault();const t=$.qs("#tm").value;/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(t)?window.location.href="/contact-us.html?email="+encodeURIComponent(t):alert("Please enter a valid email address.")})),F(),b(),function(){e.addEventListener("change",(e=>{const t=e.target.value;t&&sessionStorage.setItem("currency-preference",t),function(e){const t=$.qsa(".po");for(let o=0;o<t.length;o++){const r=t[o];r.classList.remove("r_"),r.textContent=e}}(t)})),a.addEventListener("click",(()=>{!function(){const e=$.qs(".hk");let t=w(e.children.length+1);const o=$.qs(".h_").cloneNode(!0);o.querySelector(".hq").textContent=`${t} Purchase`,t=t.toLowerCase(),o.querySelector(".pn").setAttribute("for",`${t}-purchase`),o.querySelector(".pa").id=`${t}-purchase`,o.querySelector(".pf").setAttribute("for",`${t}-quantity`),o.querySelector(".pl").id=`${t}-quantity`,o.querySelector(".pa").value="",o.querySelector(".pl").value="",e.appendChild(o),j(o,e),k()}()})),f.addEventListener("click",(()=>{P()})),p.addEventListener("click",(()=>{!function(){const e=$.qsa(".h_");for(const t of e){const e=t.querySelector(".pa"),o=t.querySelector(".pl");e.value=0,o.value=0}t.textContent="--",o.textContent="--",r.textContent="--",d.value=0,y.value=0,S.value=0,$.conceal(c.closest(".pj"),n.closest(".pj"),l.closest(".pj"),u.closest(".pj"),s.closest(".pj")),A();const i=q.querySelectorAll(".db");for(let e=1;e<i.length;e++)i[e].remove()}()}));for(const e of x)e.addEventListener("change",(e=>{F(e.target.value)}));i.addEventListener("click",(function(){m.scrollIntoView({behavior:"smooth"})}))}(),window.addEventListener("resize",(function(){clearTimeout(window.resizeTimeout),window.resizeTimeout=setTimeout((()=>{b(),window.innerWidth<=980?($.qs(".hd").textContent="Basic (Average)",$.qs(".hv").textContent="Advanced (Average + Profit)"):($.qs(".hd").textContent="Basic (Average Only)",$.qs(".hv").textContent="Advanced (Average + Profit & Analysis)")}),0)}))}))}();