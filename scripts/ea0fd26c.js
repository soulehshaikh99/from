document.addEventListener("DOMContentLoaded",(function(){const e=$.qs("#fromMonthBirthDate"),t=$.qs("#fromDayBirthDate"),r=$.qs("#fromYearBirthDate"),n=$.qs("#toMonthBirthDate"),a=$.qs("#toDayBirthDate"),o=$.qs("#toYearBirthDate"),u=$.qs("#fromYearBirthYear"),c=$.qs("#toYearBirthYear"),i=$.qs("#fromMonthBirthDateTime"),l=$.qs("#fromDayBirthDateTime"),s=$.qs("#fromYearBirthDateTime"),d=$.qs("#fromTimeBirthDateTime"),m=$.qs("#toMonthBirthDateTime"),y=$.qs("#toDayBirthDateTime"),h=$.qs("#toYearBirthDateTime"),g=$.qs("#toTimeBirthDateTime"),D=$.qs("#resetFieldsBtn"),S=$.qs("#calculateAgeBtn"),v=$.qsa(".p"),q=$.qsa(".g");function B(){for(const e of v)if(e.checked)return e.value;return null}function f(){const e=B();e&&q.forEach((t=>{t.hidden=t.getAttribute("data-mode")!==e}))}function L(e,t,r){const n=parseInt(e.value)||(new Date).getFullYear(),a=parseInt(t.value),o=new Date(n,a,0).getDate(),u=parseInt(r.value);let c=!1;const i=Array.from(r.options);for(let e=0;e<i.length;e++){const t=i[e],r=parseInt(t.value);t.hidden=r>o}u>o&&(r.value="1",r.classList.add("u"),c=!0),!c&&parseInt(r.value)<=o&&r.classList.remove("u")}function T(e,t,r){""===e.value.trim()&&(e.value=(new Date).getFullYear(),t&&r&&L(e,r,t))}function C(D="date"){const{year:S,month:v,day:q}=function(){const e=new Date,t=e.getFullYear(),r=e.getMonth()+1,n=e.getDate();return{year:t,month:r,day:n}}();if("date"===D)r.value=S,e.value=v,t.value=q,o.value=S,n.value=v,a.value=q,L(r,e,t),L(o,n,a);else if("year"===D)u.value=S,c.value=S;else{const e=function(){const e=new Date,t=String(e.getHours()).padStart(2,"0"),r=String(e.getMinutes()).padStart(2,"0");return`${t}:${r}`}();s.value=S,i.value=v,l.value=q,d.value=e,h.value=S,m.value=v,y.value=q,g.value=e,L(s,i,l),L(h,m,y)}}function p(e="date"){"date"===e?$.conceal($.qs("#outputBirthDate"),$.qs("#errorBirthDate")):"year"===e?$.conceal($.qs("#outputBirthYear"),$.qs("#errorBirthYear")):$.conceal($.qs("#outputBirthDateTime"),$.qs("#errorBirthDateTime"))}function x(e,t){let r=t.getFullYear()-e.getFullYear(),n=t.getMonth()-e.getMonth(),a=t.getDate()-e.getDate();if(a<0){n-=1;a+=new Date(t.getFullYear(),t.getMonth(),0).getDate()}return n<0&&(r-=1,n+=12),{years:r,months:n,days:a}}const Y=e=>{const t=Number(e.toFixed(4));return new Intl.NumberFormat("en-US",{maximumFractionDigits:3,minimumFractionDigits:0}).format(t)};$.qs("#contact-us-form").addEventListener("submit",(function(e){e.preventDefault();const t=$.qs("#email-field").value;/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(t)?window.location.href="/contact-us.html?email="+encodeURIComponent(t):alert("Please enter a valid email address.")})),f(),C("date"),C("year"),C("datetime"),v.forEach((e=>{e.addEventListener("change",f)})),t.addEventListener("change",(()=>{t.classList.remove("u")})),e.addEventListener("change",(()=>L(r,e,t))),r.addEventListener("input",(()=>L(r,e,t))),r.addEventListener("blur",(()=>T(r,t,e))),a.addEventListener("change",(()=>{a.classList.remove("u")})),n.addEventListener("change",(()=>L(o,n,a))),o.addEventListener("input",(()=>L(o,n,a))),o.addEventListener("blur",(()=>T(o,a,n))),u.addEventListener("blur",(()=>T(u,null,null))),c.addEventListener("blur",(()=>T(c,null,null))),l.addEventListener("change",(()=>{l.classList.remove("u")})),i.addEventListener("change",(()=>L(s,i,l))),s.addEventListener("input",(()=>L(s,i,l))),s.addEventListener("blur",(()=>T(s,l,i))),y.addEventListener("change",(()=>{y.classList.remove("u")})),m.addEventListener("change",(()=>L(h,m,y))),h.addEventListener("input",(()=>L(h,m,y))),h.addEventListener("blur",(()=>T(h,y,m))),D.addEventListener("click",(()=>{const e=B();C(e),p(e)})),S.addEventListener("click",(()=>{const D=B();p(D),"date"===D?function(){const u=new Date(Date.UTC(parseInt(r.value),parseInt(e.value)-1,parseInt(t.value))),c=new Date(Date.UTC(parseInt(o.value),parseInt(n.value)-1,parseInt(a.value)));if(isNaN(u.getTime())||isNaN(c.getTime())||u>c)return void $.reveal($.qs("#errorBirthDate"));const i=x(u,c),l=864e5,s=c-u,d=Math.floor(s/l),m=Math.floor(d/7),y=d%7,h=12*i.years+i.months,g=24*d,D=60*g,S=60*D,v=d/365.25,q=c.getUTCFullYear();let B=new Date(Date.UTC(q,u.getUTCMonth(),u.getUTCDate()));c>B&&B.setUTCFullYear(q+1);const f=new Date(Date.UTC(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate())),L=new Date(Date.UTC(B.getUTCFullYear(),B.getUTCMonth(),B.getUTCDate())),T=Math.floor((L-f)/l),C=e=>e.toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});$.reveal($.qs("#outputBirthDate")),$.qs("#currentAgeBirthDate").textContent=`${i.years} years, ${i.months} months, ${i.days} days`,$.qs("#ageLastBirthdayBirthDate").textContent=`${i.years} years`,$.qs("#ageNextBirthdayBirthDate").textContent=`${i.years+1} years`,$.qs("#bornOnBirthDate").textContent=`${C(u)}`,$.qs("#ageOnBirthDate").textContent=`${C(c)}`,$.qs("#decimalYearsBirthDate").textContent=`${Y(v)} years`,$.qs("#monthsDaysBirthDate").textContent=`${h.toLocaleString()} months, ${i.days} days`,$.qs("#weeksDaysBirthDate").textContent=`${m.toLocaleString()} weeks, ${y} days`,$.qs("#daysBirthDate").textContent=`${d.toLocaleString()} days`,$.qs("#hoursBirthDate").textContent=`${g.toLocaleString()} hours`,$.qs("#minutesBirthDate").textContent=`${D.toLocaleString()} minutes`,$.qs("#secondsBirthDate").textContent=`${S.toLocaleString()} seconds`,$.qs("#daysLeftBirthDate").textContent=T,$.qs("#nextBirthdayBirthDate").textContent=C(B)}():"year"===D?function(){const e=parseInt(u.value),t=parseInt(c.value);if(isNaN(e)||isNaN(t)||e>t)return void $.reveal($.qs("#errorBirthYear"));const r=t-e,n=r+1;$.reveal($.qs("#outputBirthYear")),$.qs("#currentAgeBirthYear").textContent=`${r} years old (${n} if you have already celebrated your birthday in ${t})`,$.qs("#ageNextBirthdayBirthYear").textContent=`${n} years old (${n+1} if your birthday has occurred in ${t})`}():function(){const[e,t]=d.value.split(":").map(Number),r=new Date(parseInt(s.value),parseInt(i.value)-1,parseInt(l.value),e,t,0),[n,a]=g.value.split(":").map(Number),o=new Date(parseInt(h.value),parseInt(m.value)-1,parseInt(y.value),n,a,0);if(isNaN(r.getTime())||isNaN(o.getTime())||r>o)return void $.reveal($.qs("#errorBirthDateTime"));const u=x(r,o),c=864e5,D=o-r,S=Math.floor(D/c),v=Math.floor(S/7),q=S%7,B=12*u.years+u.months,f=Math.floor(D/36e5),L=Math.floor(D/6e4),T=Math.floor(D/1e3),C=D/315576e5;let p=new Date(o.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes());p<new Date(o.getFullYear(),o.getMonth(),o.getDate(),r.getHours(),r.getMinutes())&&p.setFullYear(p.getFullYear()+1);const E=new Date(p.getFullYear(),p.getMonth(),p.getDate()),M=new Date(o.getFullYear(),o.getMonth(),o.getDate()),w=Math.floor((E-M)/c),F=e=>e.toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});$.reveal($.qs("#outputBirthDateTime")),$.qs("#currentAgeBirthDateTime").textContent=`${u.years} years, ${u.months} months, ${u.days} days`,$.qs("#ageLastBirthdayBirthDateTime").textContent=`${u.years} years`,$.qs("#ageNextBirthdayBirthDateTime").textContent=`${u.years+1} years`,$.qs("#bornOnBirthDateTime").textContent=`${F(r)}`,$.qs("#ageOnBirthDateTime").textContent=`${F(o)}`,$.qs("#decimalYearsBirthDateTime").textContent=`${Y(C)} years`,$.qs("#monthsDaysBirthDateTime").textContent=`${B.toLocaleString()} months, ${S} days`,$.qs("#weeksDaysBirthDateTime").textContent=`${v.toLocaleString()} weeks, ${q} days`,$.qs("#daysBirthDateTime").textContent=`${S.toLocaleString()} days`,$.qs("#hoursBirthDateTime").textContent=`${f.toLocaleString()} hours`,$.qs("#minutesBirthDateTime").textContent=`${L.toLocaleString()} minutes`,$.qs("#secondsBirthDateTime").textContent=`${T.toLocaleString()} seconds`,$.qs("#daysLeftBirthDateTime").textContent=w,$.qs("#nextBirthdayBirthDateTime").textContent=F(p)}()})),$.qsa(".tr .ti").forEach((e=>{e.addEventListener("click",(()=>{const t=e.parentElement.querySelector("span");if(t){const r=t.textContent.trim();navigator.clipboard.writeText(r).then((()=>{const t=e.querySelector(".agecal__icon");t.setAttribute("src","/assets/images/0d9ada79.svg"),setTimeout((()=>{t.setAttribute("src","/assets/images/fe864936.svg")}),1e3)})).catch((e=>{alert(e.message)}))}}))}))}));