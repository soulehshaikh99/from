document.addEventListener("DOMContentLoaded",(function(){const e=$.qs("#fromMonthBirthDate"),t=$.qs("#fromDayBirthDate"),r=$.qs("#fromYearBirthDate"),n=$.qs("#toMonthBirthDate"),a=$.qs("#toDayBirthDate"),o=$.qs("#toYearBirthDate"),u=$.qs("#fromYearBirthYear"),c=$.qs("#toYearBirthYear"),i=$.qs("#fromMonthBirthDateTime"),l=$.qs("#fromDayBirthDateTime"),s=$.qs("#fromYearBirthDateTime"),d=$.qs("#fromTimeBirthDateTime"),m=$.qs("#toMonthBirthDateTime"),h=$.qs("#toDayBirthDateTime"),y=$.qs("#toYearBirthDateTime"),g=$.qs("#toTimeBirthDateTime"),v=$.qs("#resetFieldsBtn"),D=$.qs("#calculateAgeBtn"),S=$.qsa(".p"),q=$.qsa(".g"),B=$.qs("#fromBirthDateLabel"),f=$.qs("#fromBirthDateInput"),L=$.qs("#toBirthDateLabel"),T=$.qs("#toBirthDateInput"),p=$.qs("#fromBirthDateTimeLabel"),C=$.qs("#fromBirthDateTimeInput"),x=$.qs("#toBirthDateTimeLabel"),E=$.qs("#toBirthDateTimeInput");function Y(){for(const e of S)if(e.checked)return e.value;return null}function w(){const e=Y();e&&q.forEach((t=>{t.hidden=t.getAttribute("data-mode")!==e}))}function M(e,t,r){const n=parseInt(e.value)||(new Date).getFullYear(),a=parseInt(t.value),o=new Date(n,a,0).getDate(),u=parseInt(r.value);let c=!1;const i=Array.from(r.options);for(let e=0;e<i.length;e++){const t=i[e],r=parseInt(t.value);t.hidden=r>o}u>o&&(r.value="1",r.classList.add("s"),c=!0),!c&&parseInt(r.value)<=o&&r.classList.remove("s")}function N(e,t,r){""===e.value.trim()&&(e.value=(new Date).getFullYear(),t&&r&&M(e,r,t))}function I(v="date"){const{year:D,month:S,day:q,date:Y}=function(){const e=new Date,t=e.getFullYear(),r=e.getMonth()+1,n=e.getDate(),a=new Date(t,r-1,n);return{year:t,month:r,day:n,date:a}}();if("date"===v){r.value=D,e.value=S,t.value=q,o.value=D,n.value=S,a.value=q;const u=F(D,S,q);B.value=u,f.value=u,L.value=u,T.value=u,M(r,e,t),M(o,n,a)}else if("year"===v)u.value=D,c.value=D;else{const e=function(){const e=new Date,t=String(e.getHours()).padStart(2,"0"),r=String(e.getMinutes()).padStart(2,"0");return`${t}:${r}`}();s.value=D,i.value=S,l.value=q,d.value=e,y.value=D,m.value=S,h.value=q,g.value=e;const t=F(D,S,q);p.value=t,C.value=t,x.value=t,E.value=t,M(s,i,l),M(y,m,h)}}function b(e="date"){"date"===e?$.conceal($.qs("#outputBirthDate"),$.qs("#errorBirthDate")):"year"===e?$.conceal($.qs("#outputBirthYear"),$.qs("#errorBirthYear")):$.conceal($.qs("#outputBirthDateTime"),$.qs("#errorBirthDateTime"))}function F(e,t,r){return`${String(e).padStart(4,"0")}-${String(t).padStart(2,"0")}-${String(r).padStart(2,"0")}`}function U(e,t,r,n){if(e.value){const a=new Date(e.value);isNaN(a.getTime())||(t.value=a.getFullYear(),r.value=a.getMonth()+1,n.value=a.getDate(),M(t,r,n))}}function A(e,t,r,n){const a=parseInt(e.value),o=parseInt(t.value),u=parseInt(r.value);if(!isNaN(a)&&!isNaN(o)&&!isNaN(u)){const e=new Date(a,o-1,u);if(!isNaN(e.getTime())){const e=F(a,o,u);n.value=e}}}function k(e,t){let r=t.getFullYear()-e.getFullYear(),n=t.getMonth()-e.getMonth(),a=t.getDate()-e.getDate();if(a<0){n-=1;a+=new Date(t.getFullYear(),t.getMonth(),0).getDate()}return n<0&&(r-=1,n+=12),{years:r,months:n,days:a}}const O=e=>{const t=Number(e.toFixed(4));return new Intl.NumberFormat("en-US",{maximumFractionDigits:3,minimumFractionDigits:0}).format(t)};$.qs("#contact-us-form").addEventListener("submit",(function(e){e.preventDefault();const t=$.qs("#email-field").value;/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(t)?window.location.href="/contact-us.html?email="+encodeURIComponent(t):alert("Please enter a valid email address.")})),w(),I("date"),I("year"),I("datetime"),S.forEach((e=>{e.addEventListener("change",w)})),t.addEventListener("change",(()=>{t.classList.remove("s"),A(r,e,t,B),A(r,e,t,f)})),e.addEventListener("change",(()=>{M(r,e,t),A(r,e,t,B),A(r,e,t,f)})),r.addEventListener("input",(()=>{M(r,e,t),A(r,e,t,B),A(r,e,t,f)})),r.addEventListener("blur",(()=>N(r,t,e))),a.addEventListener("change",(()=>{a.classList.remove("s"),A(o,n,a,L),A(o,n,a,T)})),n.addEventListener("change",(()=>{M(o,n,a),A(o,n,a,L),A(o,n,a,T)})),o.addEventListener("input",(()=>{M(o,n,a),A(o,n,a,L),A(o,n,a,T)})),o.addEventListener("blur",(()=>N(o,a,n))),u.addEventListener("blur",(()=>N(u,null,null))),c.addEventListener("blur",(()=>N(c,null,null))),l.addEventListener("change",(()=>{l.classList.remove("s"),A(s,i,l,p),A(s,i,l,C)})),i.addEventListener("change",(()=>{M(s,i,l),A(s,i,l,p),A(s,i,l,C)})),s.addEventListener("input",(()=>{M(s,i,l),A(s,i,l,p),A(s,i,l,C)})),s.addEventListener("blur",(()=>N(s,l,i))),h.addEventListener("change",(()=>{h.classList.remove("s"),A(y,m,h,x),A(y,m,h,E)})),m.addEventListener("change",(()=>{M(y,m,h),A(y,m,h,x),A(y,m,h,E)})),y.addEventListener("input",(()=>{M(y,m,h),A(y,m,h,x),A(y,m,h,E)})),y.addEventListener("blur",(()=>N(y,h,m))),B.addEventListener("change",(()=>{U(B,r,e,t)})),f.addEventListener("change",(()=>{U(f,r,e,t)})),L.addEventListener("change",(()=>{U(L,o,n,a)})),T.addEventListener("change",(()=>{U(T,o,n,a)})),p.addEventListener("change",(()=>{U(p,s,i,l)})),C.addEventListener("change",(()=>{U(C,s,i,l)})),x.addEventListener("change",(()=>{U(x,y,m,h)})),E.addEventListener("change",(()=>{U(E,y,m,h)})),v.addEventListener("click",(()=>{const e=Y();I(e),b(e)})),D.addEventListener("click",(()=>{const v=Y();b(v),"date"===v?function(){const u=new Date(Date.UTC(parseInt(r.value),parseInt(e.value)-1,parseInt(t.value))),c=new Date(Date.UTC(parseInt(o.value),parseInt(n.value)-1,parseInt(a.value)));if(isNaN(u.getTime())||isNaN(c.getTime())||u>c)return void $.reveal($.qs("#errorBirthDate"));const i=k(u,c),l=864e5,s=c-u,d=Math.floor(s/l),m=Math.floor(d/7),h=d%7,y=12*i.years+i.months,g=24*d,v=60*g,D=60*v,S=d/365.25,q=c.getUTCFullYear();let B=new Date(Date.UTC(q,u.getUTCMonth(),u.getUTCDate()));c>B&&B.setUTCFullYear(q+1);const f=new Date(Date.UTC(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate())),L=new Date(Date.UTC(B.getUTCFullYear(),B.getUTCMonth(),B.getUTCDate())),T=Math.floor((L-f)/l),p=e=>e.toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});$.reveal($.qs("#outputBirthDate")),$.qs("#currentAgeBirthDate").textContent=`${i.years} years, ${i.months} months, ${i.days} days`,$.qs("#ageLastBirthdayBirthDate").textContent=`${i.years} years`,$.qs("#ageNextBirthdayBirthDate").textContent=`${i.years+1} years`,$.qs("#bornOnBirthDate").textContent=`${p(u)}`,$.qs("#ageOnBirthDate").textContent=`${p(c)}`,$.qs("#decimalYearsBirthDate").textContent=`${O(S)} years`,$.qs("#monthsDaysBirthDate").textContent=`${y.toLocaleString()} months, ${i.days} days`,$.qs("#weeksDaysBirthDate").textContent=`${m.toLocaleString()} weeks, ${h} days`,$.qs("#daysBirthDate").textContent=`${d.toLocaleString()} days`,$.qs("#hoursBirthDate").textContent=`${g.toLocaleString()} hours`,$.qs("#minutesBirthDate").textContent=`${v.toLocaleString()} minutes`,$.qs("#secondsBirthDate").textContent=`${D.toLocaleString()} seconds`,$.qs("#daysLeftBirthDate").textContent=T,$.qs("#nextBirthdayBirthDate").textContent=p(B)}():"year"===v?function(){const e=parseInt(u.value),t=parseInt(c.value);if(isNaN(e)||isNaN(t)||e>t)return void $.reveal($.qs("#errorBirthYear"));const r=t-e,n=r+1;$.reveal($.qs("#outputBirthYear")),$.qs("#currentAgeBirthYear").textContent=`${r} years old (${n} if you have already celebrated your birthday in ${t})`,$.qs("#ageNextBirthdayBirthYear").textContent=`${n} years old (${n+1} if your birthday has occurred in ${t})`}():function(){const[e,t]=d.value.split(":").map(Number),r=new Date(parseInt(s.value),parseInt(i.value)-1,parseInt(l.value),e,t,0),[n,a]=g.value.split(":").map(Number),o=new Date(parseInt(y.value),parseInt(m.value)-1,parseInt(h.value),n,a,0);if(isNaN(r.getTime())||isNaN(o.getTime())||r>o)return void $.reveal($.qs("#errorBirthDateTime"));const u=k(r,o),c=864e5,v=o-r,D=Math.floor(v/c),S=Math.floor(D/7),q=D%7,B=12*u.years+u.months,f=Math.floor(v/36e5),L=Math.floor(v/6e4),T=Math.floor(v/1e3),p=v/315576e5;let C=new Date(o.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes());C<new Date(o.getFullYear(),o.getMonth(),o.getDate(),r.getHours(),r.getMinutes())&&C.setFullYear(C.getFullYear()+1);const x=new Date(C.getFullYear(),C.getMonth(),C.getDate()),E=new Date(o.getFullYear(),o.getMonth(),o.getDate()),Y=Math.floor((x-E)/c),w=e=>e.toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});$.reveal($.qs("#outputBirthDateTime")),$.qs("#currentAgeBirthDateTime").textContent=`${u.years} years, ${u.months} months, ${u.days} days`,$.qs("#ageLastBirthdayBirthDateTime").textContent=`${u.years} years`,$.qs("#ageNextBirthdayBirthDateTime").textContent=`${u.years+1} years`,$.qs("#bornOnBirthDateTime").textContent=`${w(r)}`,$.qs("#ageOnBirthDateTime").textContent=`${w(o)}`,$.qs("#decimalYearsBirthDateTime").textContent=`${O(p)} years`,$.qs("#monthsDaysBirthDateTime").textContent=`${B.toLocaleString()} months, ${D} days`,$.qs("#weeksDaysBirthDateTime").textContent=`${S.toLocaleString()} weeks, ${q} days`,$.qs("#daysBirthDateTime").textContent=`${D.toLocaleString()} days`,$.qs("#hoursBirthDateTime").textContent=`${f.toLocaleString()} hours`,$.qs("#minutesBirthDateTime").textContent=`${L.toLocaleString()} minutes`,$.qs("#secondsBirthDateTime").textContent=`${T.toLocaleString()} seconds`,$.qs("#daysLeftBirthDateTime").textContent=Y,$.qs("#nextBirthdayBirthDateTime").textContent=w(C)}()})),$.qsa(".tv .tm").forEach((e=>{e.addEventListener("click",(()=>{const t=e.parentElement.querySelector("span");if(t){const r=t.textContent.trim();navigator.clipboard.writeText(r).then((()=>{const t=e.querySelector(".ti");t.setAttribute("src","/assets/images/0d9ada79.svg"),setTimeout((()=>{t.setAttribute("src","/assets/images/fe864936.svg")}),1e3)})).catch((e=>{alert(e.message)}))}}))}))}));