document.addEventListener("DOMContentLoaded",(function(){const e=$.qs("#percentOfX"),t=$.qs("#percentOfY"),n=$.qs("#percentOfCalculateBtn"),c=$.qs("#percentOfResetFieldsBtn"),r=$.qs("#percentWhatX"),o=$.qs("#percentWhatY"),a=$.qs("#percentWhatCalculateBtn"),l=$.qs("#percentWhatResetFieldsBtn"),u=$.qs("#percentOfWhatX"),s=$.qs("#percentOfWhatY"),i=$.qs("#percentOfWhatCalculateBtn"),p=$.qs("#percentOfWhatResetFieldsBtn"),d=$.qs("#percentChangeX"),f=$.qs("#percentChangeY"),S=$.qs("#applyPercentChangeX"),g=$.qs("#applyPercentChangeY"),y=$.qs("#applyPercentChangeOp"),m=$.qs("#percentDiffX"),v=$.qs("#percentDiffY"),q=$.qs("#resetFieldsBtn"),h=$.qs("#calculateEqBtn"),L=$.qsa(".of"),F=$.qsa(".od"),k=$.qs(".percal__global-cta");function C(){for(const e of L)if(e.checked)return e.value;return null}function b(){const e=C();if(!e)return;F.forEach((t=>{t.hidden=t.getAttribute("data-mode")!==e}));["percent-change","apply-percent-change","percent-difference"].includes(e)?k.style.display="block":k.style.display="none"}function O(n="percent-of"){switch(n){case"percent-of":e.value="",t.value="";break;case"percent-what":r.value="",o.value="";break;case"percent-of-what":u.value="",s.value="";break;case"percent-change":d.value="",f.value="";break;case"apply-percent-change":S.value="",g.value="",y.value="increase";break;case"percent-difference":m.value="",v.value=""}}function E(n="percent-of"){switch(n){case"percent-of":case"percent-what":case"percent-of-what":if(""!==e.value||""!==t.value||""!==r.value||""!==o.value||""!==u.value||""!==s.value)break;$.conceal($.qs("#quickSolutionsOutput"));break;case"percent-change":$.conceal($.qs("#percentChangeOutput"),$.qs("#percentChangeError"));break;case"apply-percent-change":$.conceal($.qs("#applyPercentChangeOutput"));break;case"percent-difference":$.conceal($.qs("#percentDiffOutput"))}}$.qs("#contact-us-form").addEventListener("submit",(function(e){e.preventDefault();const t=$.qs("#email-field").value;/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(t)?window.location.href="/contact-us.html?email="+encodeURIComponent(t):alert("Please enter a valid email address.")})),b(),L.forEach((e=>{e.addEventListener("change",b)})),n.addEventListener("click",(()=>{!function(e,t){const n=parseFloat(e),c=parseFloat(t),r=parseFloat((n/100*c).toFixed(4));$.reveal($.qs("#quickSolutionsOutput")),$.qs("#quickSolutionsAnswer").innerHTML=`${n.toLocaleString()}% of ${c.toLocaleString()} is <strong>${r.toLocaleString()}</strong>`}(e.value||0,t.value||0)})),a.addEventListener("click",(()=>{!function(e,t){const n=parseFloat(e),c=parseFloat(t),r=parseFloat((n/c*100).toFixed(4));$.reveal($.qs("#quickSolutionsOutput")),$.qs("#quickSolutionsAnswer").innerHTML=`${n.toLocaleString()} is <strong>${r.toLocaleString()}%</strong> of ${c.toLocaleString()}`}(r.value||0,o.value||0)})),i.addEventListener("click",(()=>{!function(e,t){const n=parseFloat(e),c=parseFloat(t),r=parseFloat((n/c*100).toFixed(4));$.reveal($.qs("#quickSolutionsOutput")),$.qs("#quickSolutionsAnswer").innerHTML=`${n.toLocaleString()} is ${c.toLocaleString()}% of <strong>${r.toLocaleString()}</strong>`}(u.value||0,s.value||0)})),h.addEventListener("click",(()=>{const e=C();E(e),"percent-change"===e&&function(e,t){const n=parseFloat(e),c=parseFloat(t);if(0===n)return void $.reveal($.qs("#percentChangeError"));const r=(c-n)/Math.abs(n)*100,o=parseFloat(r.toFixed(4));$.reveal($.qs("#percentChangeOutput")),$.qs("#percentChangeAnswer").innerHTML=`The percent change from ${n.toLocaleString()} to ${c.toLocaleString()} is <strong>${o.toLocaleString()}%</strong>`}(d.value||0,f.value||0),"apply-percent-change"===e&&function(e,t,n="increase"){const c=parseFloat(e),r=parseFloat(t)/100*c;let o=0;o="increase"===n?c+r:c-r;const a=parseFloat(o.toFixed(4)),l=parseFloat(r.toFixed(4));$.reveal($.qs("#applyPercentChangeOutput")),$.qs("#applyPercentChangeChangedValue").innerHTML=`<strong>${a.toLocaleString()}</strong>`,$.qs("#applyPercentChangeAbsoluteValue").innerHTML=`<strong>${l.toLocaleString()}</strong>`}(S.value||0,g.value||0,y.value),"percent-difference"===e&&function(e,t){const n=parseFloat(e),c=parseFloat(t),r=Math.abs(n-c),o=r/((n+c)/2)*100,a=parseFloat(r.toFixed(4)),l=parseFloat(o.toFixed(4));$.reveal($.qs("#percentDiffOutput")),$.qs("#percentDiffPercentageDifference").innerHTML=`<strong>${l.toLocaleString()}%</strong>`,$.qs("#percentDiffAbsoluteDifference").innerHTML=`<strong>${a.toLocaleString()}</strong>`}(m.value||0,v.value||0)})),c.addEventListener("click",(()=>{O("percent-of"),E("percent-of")})),l.addEventListener("click",(()=>{O("percent-what"),E("percent-what")})),p.addEventListener("click",(()=>{O("percent-of-what"),E("percent-of-what")})),q.addEventListener("click",(()=>{const e=C();O(e),E(e)})),$.qsa(".oj .tm").forEach((e=>{e.addEventListener("click",(()=>{const t=e.parentElement.querySelector("strong");if(t){const n=t.textContent.trim();navigator.clipboard.writeText(n).then((()=>{const t=e.querySelector(".percal__icon");t.setAttribute("src","/assets/images/0d9ada79.svg"),setTimeout((()=>{t.setAttribute("src","/assets/images/fe864936.svg")}),1e3)})).catch((e=>{alert(`Copy failed: ${e.message}`)}))}}))}))}));