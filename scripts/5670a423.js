document.addEventListener("DOMContentLoaded",(function(){const e=$.qs("#ne"),t=$.qs("#nt"),a=$.qs("#te"),n=$.qs("#ni"),r=$.qs("#iw"),s=$.qs("#ik"),o=$.qs("#ie"),i=$.qs("#it"),c=$.qs("#ir"),d=$.qs("#rk"),u=$.qs("#r_"),l=$.qs("#rq"),b=$.qs("#in"),f=$.qs("#rj"),m=$.qs("#rz"),p=$.qs("#rg"),v=$.qs("#rb"),g=$.qs("#g"),h=$.qs("#ii"),k=$.qs("#y"),A=$.qs("#is"),y=$.qs("#m"),w=$.qs("#ix"),S=$.qs("#i_"),L=$.qs("#ry"),E=$.qs("#rw");let q=-1,x=!1;function I(e,t="desktop"){switch(e){case"tools":"desktop"===t?(r.setAttribute("aria-expanded","true"),s.setAttribute("data-state","visible")):(w.setAttribute("aria-expanded","true"),S.setAttribute("data-state","visible"));break;case"settings":"desktop"===t?(p.setAttribute("aria-expanded","true"),v.setAttribute("data-state","visible")):(L.setAttribute("aria-expanded","true"),E.setAttribute("data-state","visible"))}}function D(e,t="desktop"){switch(e){case"tools":"desktop"===t?(r.setAttribute("aria-expanded","false"),s.setAttribute("data-state","invisible")):(w.setAttribute("aria-expanded","false"),S.setAttribute("data-state","invisible"));break;case"settings":"desktop"===t?(p.setAttribute("aria-expanded","false"),v.setAttribute("data-state","invisible")):(L.setAttribute("aria-expanded","false"),E.setAttribute("data-state","invisible"));break;default:"desktop"===t?(r.setAttribute("aria-expanded","false"),s.setAttribute("data-state","invisible"),p.setAttribute("aria-expanded","false"),v.setAttribute("data-state","invisible")):"mobile"===t?(w.setAttribute("aria-expanded","false"),S.setAttribute("data-state","invisible"),L.setAttribute("aria-expanded","false"),E.setAttribute("data-state","invisible")):(r.setAttribute("aria-expanded","false"),s.setAttribute("data-state","invisible"),p.setAttribute("aria-expanded","false"),v.setAttribute("data-state","invisible"),w.setAttribute("aria-expanded","false"),S.setAttribute("data-state","invisible"),L.setAttribute("aria-expanded","false"),E.setAttribute("data-state","invisible"))}}function T(){x&&(x=!1)}function j(){c.setAttribute("aria-expanded","true"),document.body.classList.add("ol"),document.addEventListener("mousemove",T),setTimeout((()=>{b.focus()}),300),b.dispatchEvent(new InputEvent("input",{bubbles:!0,cancelable:!0,data:""}))}function O(){l.style.transform="scale(95%)",setTimeout((()=>{d.style.opacity="0"}),300),setTimeout((()=>{l.removeAttribute("style"),d.removeAttribute("style"),c.setAttribute("aria-expanded","false"),b.value="",m.innerHTML="",q=-1,x=!1,document.body.classList.remove("ol"),document.removeEventListener("mousemove",T)}),450)}d.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),u.contains(e.target)||O()})),e.addEventListener("click",(function(e){"open"===t.getAttribute("data-state")?(I("tools","mobile"),D("settings","mobile"),this.setAttribute("data-state","inactive"),t.setAttribute("data-state","close")):(this.setAttribute("data-state","active"),t.setAttribute("data-state","open"))})),a.addEventListener("mouseenter",(function(){D("all","desktop")})),n.addEventListener("mouseenter",(function(){D("all","desktop")})),r.addEventListener("mouseenter",(function(e){D("all","desktop"),I("tools","desktop")})),s.addEventListener("mouseleave",(function(e){D("tools","desktop")})),r.addEventListener("click",(function(e){e.stopPropagation(),"true"===this.getAttribute("aria-expanded")?D("tools","desktop"):I("tools","desktop")})),o.addEventListener("mouseenter",(function(){D("all","desktop")})),o.addEventListener("click",(function(){j()})),i.addEventListener("mouseenter",(function(){D("all","desktop")})),i.addEventListener("click",(function(){j()})),p.addEventListener("mouseenter",(function(e){D("all","desktop"),I("settings","desktop")})),v.addEventListener("mouseleave",(function(e){D("settings","desktop")})),p.addEventListener("click",(function(e){e.stopPropagation(),"true"===this.getAttribute("aria-expanded")?D("settings","desktop"):I("settings","desktop")})),w.addEventListener("click",(function(e){"true"===this.getAttribute("aria-expanded")?D("tools","mobile"):I("tools","mobile")})),L.addEventListener("click",(function(e){"true"===this.getAttribute("aria-expanded")?D("settings","mobile"):I("settings","mobile")})),h.addEventListener("change",(function(e){const t=e.target.checked;t?$.qs(".of").setAttribute("data-sticky-header","true"):$.qs(".of").setAttribute("data-sticky-header","false"),window.localStorage.setItem("sticky-header",t)})),A.addEventListener("change",(function(e){const t=e.target.checked;t?$.qs(".of").setAttribute("data-sticky-header","true"):$.qs(".of").setAttribute("data-sticky-header","false"),window.localStorage.setItem("sticky-header",t)})),g.addEventListener("change",(function(e){window.localStorage.setItem("return-to-top",e.target.checked),e.target.checked&&window.scrollY>200?y.classList.add("uc"):e.target.checked||y.classList.remove("uc")})),k.addEventListener("change",(function(e){window.localStorage.setItem("return-to-top",e.target.checked),e.target.checked&&window.scrollY>200?y.classList.add("uc"):e.target.checked||y.classList.remove("uc")})),y.addEventListener("click",(function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})),window.addEventListener("scroll",(function(){"true"===window.localStorage.getItem("return-to-top")&&(window.scrollY>200?y.classList.add("uc"):y.classList.remove("uc"))})),document.addEventListener("keydown",(function(a){if("true"===c.getAttribute("aria-expanded"))return function(e){if("Escape"===e.key)return e.preventDefault(),void(0===b.value.length?O():(b.value="",b.dispatchEvent(new InputEvent("input",{bubbles:!0,cancelable:!0,data:""})),q=-1));const t=m.querySelectorAll(".ut");if(t.length)switch("ArrowUp"!==e.key&&"ArrowDown"!==e.key||(x=!0),e.key){case"ArrowUp":e.preventDefault(),q=(q-1+t.length)%t.length,a(t);break;case"ArrowDown":e.preventDefault(),q=(q+1)%t.length,a(t);break;case"Enter":e.preventDefault(),q>=0&&t[q]&&t[q].click()}function a(e){for(let t=0;t<e.length;t++){const a=e[t];t===q?(a.classList.add("un"),a.scrollIntoView({block:"nearest"})):a.classList.remove("un")}}}(a);"Escape"===a.key?(a.preventDefault(),D("all"),e.setAttribute("data-state","inactive"),t.setAttribute("data-state","close")):((a.ctrlKey||a.metaKey)&&"K"===a.key.toUpperCase()||"/"===a.key)&&(a.preventDefault(),o.click())})),document.addEventListener("click",(function(e){"true"===r.getAttribute("aria-expanded")&&(r.contains(e.target)||s.contains(e.target)||D("tools","desktop")),"true"===p.getAttribute("aria-expanded")&&(p.contains(e.target)||v.contains(e.target)||D("settings","desktop"))})),null===window.localStorage.getItem("return-to-top")||"true"===window.localStorage.getItem("return-to-top")?(g.setAttribute("checked",""),k.setAttribute("checked",""),null===window.localStorage.getItem("return-to-top")&&window.localStorage.setItem("return-to-top",!0)):(g.removeAttribute("checked"),k.removeAttribute("checked")),"true"===window.localStorage.getItem("sticky-header")?(h.setAttribute("checked",""),A.setAttribute("checked",""),$.qs(".of").setAttribute("data-sticky-header","true")):(h.removeAttribute("checked"),A.removeAttribute("checked"),$.qs(".of").setAttribute("data-sticky-header","false")),async function(){const e=await async function(){let e=sessionStorage.getItem("search-data");if(e)try{return JSON.parse(e)}catch(e){}try{const e=await fetch("/data/search.json",{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();return sessionStorage.setItem("search-data",JSON.stringify(t)),t}catch(e){return null}}(),t=Array.from({length:e.length},((e,t)=>t)),a=function(e){const t=new FlexSearch.Index({tokenize:"forward",cache:!0});try{const e=sessionStorage.getItem("search-index");if(!e||0===e.length)throw new Error("Invalid search data found!");const a=JSON.parse(e);for(const[e,n]of Object.entries(a))t.import(e,n)}catch(a){for(let a of e)t.add(a.id,a.title);const n={};t.export(((e,t)=>{n[e]=JSON.parse(t),sessionStorage.setItem("search-index",JSON.stringify(n))}))}return t}(e);b.addEventListener("input",(function(n){x=!1;const r=this.value.trim(),s=""===r?t:a.search(r);m.innerHTML=function(e,t){if(0===t.length)return $.conceal(m),void $.reveal(f);$.conceal(f),$.reveal(m);const a={};for(const n of t){const t=e[n];let r=t.category.charAt(0).toUpperCase()+t.category.slice(1).toLowerCase();a[r]||(a[r]=[]),a[r].push(t)}let n="";for(const e in a){a[e]?.length&&"/"!==a[e][0]?.root?n+=`<li><div class="oj"><h2 class="oq">${e}</h2><a class="oz" href="${a[e][0]?.root}"><img class="ue" src="/assets/images/d6c74136.svg" /></a></div><ul>`:n+=`<li><div class="oj"><h2 class="oq">${e}</h2></div><ul>`;for(let t of a[e])n+=`<div class="ut" data-location="${t.location}">${t.title}</div>`;n+="</ul></li>"}return n}(e,s),function(){const e=m.querySelectorAll(".oz");for(let t=0;t<e.length;t++){const a=e[t];a.addEventListener("click",(()=>{window.open(a.getAttribute("href"),"_self")}))}const t=m.querySelectorAll(".ut");for(let e=0;e<t.length;e++){const a=t[e];a.addEventListener("mouseenter",(()=>{if(!x){for(let e=0;e<t.length;e++)t[e].classList.remove("un");a.classList.add("un"),q=e}})),a.addEventListener("mouseleave",(()=>{x||(a.classList.remove("un"),q=-1)})),a.addEventListener("click",(()=>{x=!1,a.getAttribute("data-location")&&window.open(a.getAttribute("data-location"),"_self")}))}}()}))}()}));