!function(){"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=$.qs("#ip"),t=$.qs("#sf"),o=$.qs("#sa"),r=$.qs("#tu"),c=$.qs("#sl"),n=$.qs("#k"),l=$.qs("#tv"),u=$.qs("#nv"),s=$.qs("#it"),i=$.qs("#t"),a=$.qs("#to"),d=$.qs("#_"),S=$.qs("#ig"),y=$.qs("#td"),q=$.qs(".py"),v=$.qs(".dl"),m=$.qs(".dq"),h=$.qs(".vf"),g=$.qs("#rx"),p=$.qs("#q"),x=$.qsa(".cb"),f=$.qs(".hb");function L(){for(const e of x)if(e.checked)return e.value;return null}function b(e){"basic"===(e=e||L())?$.conceal(r.closest(".pn"),c.closest(".pn"),f):$.reveal(f),$.conceal(y)}function C(e=1){if(e>=1&&e<=10)return["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth","Tenth"][e-1];const t=(()=>{const t=e%10,o=e%100;return 1===t&&11!==o?"st_conflict":2===t&&12!==o?"nd_conflict":3===t&&13!==o?"rd_conflict":"th"})();return`${e}${t}`}function N(e,t){let o=e.querySelector(".yq");function r(){t.removeChild(e),function(){const e=$.qs(".he");for(let t=0;t<e.children.length;t++){const o=e.children[t],r=o.querySelector(".hr");let c=C(t+1);r.textContent=`${c} Purchase`,c=c.toLowerCase(),o.querySelector(".hu").setAttribute("for",`${c}-purchase`),o.querySelector(".hp").id=`${c}-purchase`,o.querySelector(".hd").setAttribute("for",`${c}-quantity`),o.querySelector(".hv").id=`${c}-quantity`}A()}(),E()}if(o)return o.removeEventListener("click",r),void o.addEventListener("click",r);o=document.createElement("button"),o.classList.add("yq"),o.type="button";const c=document.createElement("img");c.classList.add("yz"),c.setAttribute("src","/assets/images/ce3b389d.svg"),c.setAttribute("alt","Remove purchase entry"),o.appendChild(c),e.querySelector(".hr").after(o),o.addEventListener("click",r)}function F(e){const t=e.querySelector(".yq");t&&t.remove()}function A(){const e=$.qs(".he"),t=$.qsa(".ht");if(t.length>=3)for(let o=0;o<2;o++)N(t[o],e);else for(let e=0;e<t.length;e++)F(t[e])}function E(){const i=L(),g=$.qsa(".ht");let p=0,x=0,f=1/0,b=-1/0;const N=[];for(const e of g){const t=e.querySelector(".hp"),o=e.querySelector(".hv"),r=parseFloat(t.value||0),c=parseFloat(o.value||0);p+=c,x+=r*c,f>r&&(f=r),b<r&&(b=r),N.push({buyPrice:r,quantity:c,invested:(r*c).toFixed(2)})}if(!x||!p)return;const F=p>0?x/p:0,A=Number(F.toFixed(2)).toLocaleString(),E=Number(p.toFixed(2)).toLocaleString(),k=Number(x.toFixed(2)).toLocaleString();e.textContent=A,t.textContent=E,o.textContent=k;const w=parseFloat(a.value||0),P=parseFloat(d.value||0),_=parseFloat(S.value||0);if(w>0&&p>0){const e=w*p-x,t=e/x*100;r.textContent=`${e>=0?"+":""}${Number(e.toFixed(2)).toLocaleString()}`,c.textContent=`${t>=0?"+":""}${Number(t.toFixed(2)).toLocaleString()}%`,r.classList.toggle("po",e>0),r.classList.toggle("pu",e<0),c.classList.toggle("po",t>0),c.classList.toggle("pu",t<0),$.reveal(r.closest(".pn"),c.closest(".pn"))}else $.conceal(r.closest(".pn"),c.closest(".pn"));if(P>0||_>0){const e=P+_,t=(x+e)/p;if(n.textContent=Number(t.toFixed(2)).toLocaleString(),$.reveal(n.closest(".pn")),w>0){const t=w*p-x-e,o=t/x*100;l.textContent=`${t>=0?"+":""}${Number(t.toFixed(2)).toLocaleString()}`,u.textContent=`${o>=0?"+":""}${Number(o.toFixed(2)).toLocaleString()}%`,$.reveal(l.closest(".pn"),u.closest(".pn"))}else $.conceal(l.closest(".pn"),u.closest(".pn"))}else $.conceal(n.closest(".pn"),l.closest(".pn"),u.closest(".pn"));$.reveal(s);const z=q.querySelectorAll(".pw");for(let e=1;e<z.length;e++)z[e].remove();let Z=0,j=1/0,D=-1/0,I=0,R=0;const T=z[0];for(let e=0;e<N.length;e++){const t=N[e],o=T.cloneNode(!0);let r=0;e===N.length-1?r=Number((100-Z).toFixed(2)):x>0&&(r=(t.invested/x*100).toFixed(2),Z+=Number(r)),j>r&&(j=r,I=t.buyPrice),D<r&&(D=r,R=t.buyPrice);const c=o.querySelector(".dn"),n=o.querySelector(".di"),l=o.querySelector(".do"),u=o.querySelector(".da");if(o.querySelector(".px").textContent=`${C(e+1)} Purchase`,o.querySelector(".pj").textContent=t.buyPrice.toLocaleString(),o.querySelector(".pz").textContent=t.quantity.toLocaleString(),o.querySelector(".dt").textContent=Number(t.invested).toLocaleString(),o.querySelector(".df").textContent=`${Number(r)}%`,"basic"===i?$.conceal(c,n,l,u):$.reveal(c,n,l,u),"advanced"===i&&w>0){const e=o.querySelector(".ds"),r=o.querySelector(".du"),c=(w*t.quantity).toFixed(2),n=(c-t.invested).toFixed(2),l=(n/t.invested*100).toFixed(2);o.querySelector(".dr").textContent=Number(c).toLocaleString(),e.textContent=`${n>=0?"+":""}${Number(n).toLocaleString()}`,r.textContent=`${l>=0?"+":""}${Number(l).toLocaleString()}%`,e.classList.toggle("po",n>0),e.classList.toggle("pu",n<0),r.classList.toggle("po",n>0),r.classList.toggle("pu",n<0)}else $.conceal(c,n,l);q.querySelector(".pb").appendChild(o)}T.remove();const M=v.querySelector(".dc"),O=v.querySelector(".db"),U=v.querySelector(".dx"),V=v.querySelector(".d_");if("basic"===i?$.conceal(M,O,U,V):$.reveal(M,O,U,V),v.querySelector(".dd").textContent=A,v.querySelector(".dm").textContent=E,v.querySelector(".dy").textContent=k,"advanced"===i&&w>0){const e=w*p,t=e-x,o=t/x*100,r=v.querySelector(".dk"),c=v.querySelector(".dj");v.querySelector(".dh").textContent=w.toLocaleString(),v.querySelector(".dw").textContent=Number(e).toLocaleString(),r.textContent=`${t>=0?"+":""}${Number(t.toFixed(2)).toLocaleString()}`,c.textContent=`${o>=0?"+":""}${Number(o.toFixed(2)).toLocaleString()}%`,r.classList.toggle("po",t>0),r.classList.toggle("pu",t<0),c.classList.toggle("po",t>0),c.classList.toggle("pu",t<0)}else $.conceal(M,O,U,V);if(R===I?$.conceal(h.querySelector(".vl"),h.querySelector(".vh")):($.reveal(h.querySelector(".vl"),h.querySelector(".vh")),h.querySelector(".vc").textContent=Number(R).toLocaleString(),h.querySelector(".vp").textContent=Number(I).toLocaleString()),f===b?$.conceal(h.querySelector(".vd"),h.querySelector(".vm")):($.reveal(h.querySelector(".vd"),h.querySelector(".vm")),h.querySelector(".vv").textContent=Number(f).toLocaleString(),h.querySelector(".vg").textContent=Number(b).toLocaleString()),"advanced"===i&&(P>0||_>0)){const e=P+_,t=(x+e)/p,o=t-F;if(m.querySelector(".ve").textContent=e.toLocaleString(),m.querySelector(".vi").textContent=Number(t.toFixed(2)).toLocaleString(),m.querySelector(".vn").textContent=Number(o.toFixed(2)).toLocaleString(),w>0){const t=w*p-x-e,o=t/x*100;m.querySelector(".vo").textContent=`${t>=0?"+":""}${Number(t.toFixed(2)).toLocaleString()}`,m.querySelector(".va").textContent=`${o>=0?"+":""}${Number(o.toFixed(2)).toLocaleString()}%`,$.reveal(m.querySelector(".vs"),m.querySelector(".vu"))}else $.conceal(m.querySelector(".vs"),m.querySelector(".vu"));$.reveal(m)}else $.conceal(m);$.reveal(y,q,v),R!==I||f!==b?$.reveal(h):$.conceal(h)}$.qs("#te").addEventListener("submit",(function(e){e.preventDefault();const t=$.qs("#tm").value;/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(t)?window.location.href="/contact-us.html?email="+encodeURIComponent(t):alert("Please enter a valid email address.")})),b(),function(){i.addEventListener("click",(()=>{!function(){const e=$.qs(".he");let t=C(e.children.length+1);const o=$.qs(".ht").cloneNode(!0);o.querySelector(".hr").textContent=`${t} Purchase`,t=t.toLowerCase(),o.querySelector(".hu").setAttribute("for",`${t}-purchase`),o.querySelector(".hp").id=`${t}-purchase`,o.querySelector(".hd").setAttribute("for",`${t}-quantity`),o.querySelector(".hv").id=`${t}-quantity`,o.querySelector(".hp").value="",o.querySelector(".hv").value="",e.appendChild(o),N(o,e),A()}()})),p.addEventListener("click",(()=>{E()})),g.addEventListener("click",(()=>{!function(){const i=$.qsa(".ht");for(const e of i){const t=e.querySelector(".hp"),o=e.querySelector(".hv");t.value=0,o.value=0}e.textContent="-",t.textContent="-",o.textContent="-",a.value=0,d.value=0,S.value=0,$.conceal(r.closest(".pn"),c.closest(".pn"),n.closest(".pn"),l.closest(".pn"),u.closest(".pn"),s,y,q,v,m,h);const g=q.querySelectorAll(".pw");for(let e=1;e<g.length;e++)g[e].remove()}()}));for(const e of x)e.addEventListener("change",(e=>{b(e.target.value)}));s.addEventListener("click",(function(){y.scrollIntoView({behavior:"smooth"})}))}()}))}();